(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cd6e568"],{"02f4":function(e,t,r){var n=r("4588"),i=r("be13");e.exports=function(e){return function(t,r){var a,o,l=String(i(t)),c=n(r),s=l.length;return c<0||c>=s?e?"":void 0:(a=l.charCodeAt(c),a<55296||a>56319||c+1===s||(o=l.charCodeAt(c+1))<56320||o>57343?e?l.charAt(c):a:e?l.slice(c,c+2):o-56320+(a-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var n=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var n=r("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,r){"use strict";r("b0c5");var n=r("2aba"),i=r("32e9"),a=r("79e5"),o=r("be13"),l=r("2b4c"),c=r("520a"),s=l("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var g=l(e),p=!a((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),d=p?!a((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[s]=function(){return r}),r[g](""),!t})):void 0;if(!p||!d||"replace"===e&&!u||"split"===e&&!f){var v=/./[g],m=r(o,g,""[e],(function(e,t,r,n,i){return t.exec===c?p&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),h=m[0],b=m[1];n(String.prototype,e,h),i(RegExp.prototype,g,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},3846:function(e,t,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"46aa":function(e,t,r){},"520a":function(e,t,r){"use strict";var n=r("0bfb"),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,l="lastIndex",c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[l]||0!==t[l]}(),s=void 0!==/()??/.exec("")[1],u=c||s;u&&(o=function(e){var t,r,o,u,f=this;return s&&(r=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),c&&(t=f[l]),o=i.call(f,e),c&&o&&(f[l]=f.global?o.index+o[0].length:t),s&&o&&o.length>1&&a.call(o[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"5f1b":function(e,t,r){"use strict";var n=r("23c6"),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var a=r.call(e,t);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"6b54":function(e,t,r){"use strict";r("3846");var n=r("cb7c"),i=r("0bfb"),a=r("9e1e"),o="toString",l=/./[o],c=function(e){r("2aba")(RegExp.prototype,o,e,!0)};r("79e5")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?c((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)})):l.name!=o&&c((function(){return l.call(this)}))},"6d96":function(e,t,r){"use strict";var n=r("46aa"),i=r.n(n);i.a},"7f7f":function(e,t,r){var n=r("86cc").f,i=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in i||r("9e1e")&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},a481:function(e,t,r){"use strict";var n=r("cb7c"),i=r("4bf8"),a=r("9def"),o=r("4588"),l=r("0390"),c=r("5f1b"),s=Math.max,u=Math.min,f=Math.floor,g=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,d=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,(function(e,t,r,v){return[function(n,i){var a=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(e,t){var i=v(r,e,this,t);if(i.done)return i.value;var f=n(e),g=String(this),p="function"===typeof t;p||(t=String(t));var h=f.global;if(h){var b=f.unicode;f.lastIndex=0}var y=[];while(1){var x=c(f,g);if(null===x)break;if(y.push(x),!h)break;var _=String(x[0]);""===_&&(f.lastIndex=l(g,a(f.lastIndex),b))}for(var w="",k=0,S=0;S<y.length;S++){x=y[S];for(var j=String(x[0]),$=s(u(o(x.index),g.length),0),E=[],R=1;R<x.length;R++)E.push(d(x[R]));var C=x.groups;if(p){var O=[j].concat(E,$,g);void 0!==C&&O.push(C);var A=String(t.apply(void 0,O))}else A=m(j,g,$,E,C,t);$>=k&&(w+=g.slice(k,$)+A,k=$+j.length)}return w+g.slice(k)}];function m(e,t,n,a,o,l){var c=n+e.length,s=a.length,u=p;return void 0!==o&&(o=i(o),u=g),r.call(l,u,(function(r,i){var l;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":l=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return r;if(u>s){var g=f(u/10);return 0===g?r:g<=s?void 0===a[g-1]?i.charAt(1):a[g-1]+i.charAt(1):r}l=a[u-1]}return void 0===l?"":l}))}}))},b0c5:function(e,t,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},d798:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"validateForm",staticClass:"demo-dynamic",attrs:{model:e.form,"label-width":"120px"}},[r("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e._l(e.form.list,(function(t,n){return[r("div",{key:t.day,staticClass:"row"},[r("el-form-item",{attrs:{label:"累计签到天数",prop:"list."+n+".day",rules:{required:!0,message:"累计签到天数不能为空",trigger:"change"}}},[r("el-input",{attrs:{placeholder:"请填写累计签到天数"},model:{value:t.day,callback:function(r){e.$set(t,"day",r)},expression:"item.day"}})],1),r("el-form-item",{attrs:{label:"奖励类型",prop:"list."+n+".type",rules:{required:!0,message:"请选择奖励类型",trigger:"change"}}},[r("el-select",{attrs:{placeholder:"请选择奖励类型"},model:{value:t.type,callback:function(r){e.$set(t,"type",r)},expression:"item.type"}},e._l(e.reward_type_list,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"奖励值",prop:"list."+n+".value",rules:{required:!0,message:"奖励值不能为空",trigger:"change"}}},[r("el-input",{attrs:{placeholder:"请填写奖励值"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}})],1),r("el-form-item",{staticClass:"delete"},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.form.list.length>1,expression:"form.list.length > 1"}],on:{click:function(t){return t.preventDefault(),e.removeConfig(n)}}},[e._v("删除")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.form.list.length-1===n,expression:"form.list.length - 1 === index"}],on:{click:e.addConfig}},[e._v("添加")])],1)],1)]})),r("el-form-item",{attrs:{label:"签到规则"}},[r("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请填写签到规则"},model:{value:e.form.sign_rule,callback:function(t){e.$set(e.form,"sign_rule",t)},expression:"form.sign_rule"}})],1),r("el-form-item",{attrs:{label:"签到背景图片"}},[r("el-upload",{attrs:{limit:1,headers:e.myHeaders,action:"/v1/api/api/api/upload","on-success":e.fileSuccess,"before-upload":e.fileSuccessBefore,"file-list":e.file,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"infor"}},[e._v("点击上传")]),r("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("\n          "+e._s(e.imageRemark)+"\n        ")])],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("validateForm")}}},[e._v("提交")])],1)],2)],1)},i=[],a=(r("7f7f"),r("a481"),r("ac6a"),r("456d"),r("6b54"),r("5c96")),o=r("1c1e"),l={sign_rule:"",list:[{value:"",type:"",day:"",key:Date.now()}],sign_bg:""},c="/sys/config/info",s="/sys/config/update";function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(c,e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(s,e)}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function p(e){return JSON.parse(JSON.stringify(e))}function d(e){return g(e)?Object.keys(e).map((function(t){return{label:e[t],value:t}})):[]}function v(e){var t=e.reward_set,r=e.sign_rule,n=e.sign_bg,i=p(l);return g(t)&&(i.list=Object.keys(t).map((function(e){return{value:t[e].value,type:t[e].type,day:e,key:Date.now()}}))),i.sign_rule=r,i.sign_bg=n,i}function m(e){var t=e.list,r=e.sign_rule,n=e.sign_bg,i={};return t.forEach((function(e){i[e.day]={type:e.type,value:e.value}})),{type:"sign_reward",sign_rule:r,reward_set:JSON.stringify(i),sign_bg:n}}var h={data:function(){return{myHeaders:{Authorization:"Bearer "+localStorage.getItem("pstt")},loading:!1,form:p(l),reward_type_list:[],file:[],imageRemark:"尺寸:宽750px 高:914px 格式:png、jpg、jpeg、gif"}},computed:{ssid:function(){return localStorage.getItem("ssid")}},mounted:function(){var e=this;this.loading=!0,u({type:"sign_reward"}).then((function(t){if(t&&t.data){var r=t.data,n=r.sign_reward_type,i=r.reward_set,a=r.sign_rule,o=r.sign_bg;e.reward_type_list=d(n),e.form=v({reward_set:i,sign_rule:a,sign_bg:o})}})).finally((function(){return e.loading=!1}))},methods:{fileSuccess:function(e){this.form.sign_bg=e.data.file},fileSuccessBefore:function(e){var t=2,r=e.name.replace(/.+\./,""),n=["png","jpg","jpeg","gif"],i=(e.size||0)/1024/1024<t;return i?-1!==n.indexOf(r.toLowerCase())||(this.$message.warning({message:"请上传后缀名为png、jpg、jpeg、gif的附件"}),!1):(this.$message.error("文件大小超过 "+t+"MB"),!1)},submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){e?f(m(t.form)).then((function(){a["Message"].success("操作成功")})).finally((function(){return t.loading=!1})):t.loading=!1}))},addConfig:function(){this.form.list.push({value:"",type:"",day:"",key:Date.now()})},removeConfig:function(e){this.form.list.splice(e,1)}}},b=h,y=(r("6d96"),r("2877")),x=Object(y["a"])(b,n,i,!1,null,"512710c3",null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-6cd6e568.a746e0e7.js.map